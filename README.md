**TODOS**:
1. Introduce pty
2. Fix bg jobs output (figure out terminal modes)
3. Try always reaading readline even if is_interactive = false
